<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Charity Water Game Prototype</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body>
    <header class="main-header">
        <a href="https://charitywater.org" target="_blank" rel="noopener">
            <img src="img/cw_horizontal_white.jpg" alt="Charity Water Logo" class="logo">
        </a>
        <a href="https://www.charitywater.org/donate" target="_blank" rel="noopener" class="donate-btn">Donate</a>
    </header>
    <main>
        <div class="game-container">
            <div class="start-screen">
                <h1 class="game-title">Flow it On</h1>
                <div class="difficulty-select">
                    <button class="difficulty-btn" data-difficulty="easy">Easy</button>
                    <button class="difficulty-btn" data-difficulty="medium">Medium</button>
                    <button class="difficulty-btn" data-difficulty="hard">Hard</button>
                </div>
            </div>
            <div id="game-area" style="display:none;">
                <span id="level-title">Level 1</span>
                <div class="grid-and-submit">
                    <div class="reset-and-result">
                        <button id="reset-btn" class="icon-btn">
                            <img src="assets/ui/reset-icon.svg" alt="Reset" class="reset-icon" />
                        </button>
                        <div class="reset-label">Reset</div>
                    </div>
                    <div id="grid"></div>
                    <div class="submit-and-result">
                        <button id="submit-btn" class="icon-btn">
                            <img src="assets/ui/charity_icon.png" alt="Submit" class="submit-icon" />
                        </button>
                        <div class="submit-label">Submit</div>
                        <div id="result"></div>
                    </div>
                </div>
                <div id="controls" class="draggable-controls">
                    <div class="draggable" draggable="true" data-type="down">Down</div>
                    <div class="draggable" draggable="true" data-type="down-left">Down-Left</div>
                    <div class="draggable" draggable="true" data-type="down-right">Down-Right</div>
                    <div class="draggable" draggable="true" data-type="filter">Filter</div>
                    <div class="draggable" draggable="true" data-type="remove">Remove</div>
                </div>
            </div>
        </div>
    </main>

    <!-- Victory Modal -->
    <div id="victory-modal" class="modal-overlay" style="display:none;">
        <div class="modal-content">
            <canvas id="confetti-canvas"></canvas>
            <h2 class="victory-title">Level Complete!</h2>
            <div id="victory-extra-message" style="font-size:1.2rem; color:#00b4d8; margin-bottom:1rem; display:none;"></div>
            <div id="victory-water-fact" style="font-size:1.1rem; color:#333; margin-bottom:1.2rem; display:none;"></div>
            <button id="next-level-btn" class="next-btn">Next Level</button>
        </div>
    </div>

    <!-- Final Victory Modal -->
    <div id="final-victory-modal" class="modal-overlay" style="display:none;">
        <div class="modal-content">
            <h2 class="victory-title">You Beat All Levels!</h2>
            <button id="back-to-menu-btn" class="next-btn">Back to Menu</button>
        </div>
    </div>
</body>
<footer>
    <script src="main.js"></script>
</footer>
</html>